<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Energy and Carbon Footprint Predictions</title>
    <!-- Include Bootstrap CSS for styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom Styles -->
    <link href="./styles/common.css" rel="stylesheet">
    <link href="./styles/predictions.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navbar -->
    <div class="nav-placeholder"></div>

    <nav class="mini-navbar">
        <ul class="nav nav-tabs justify-content-center">
            <li class="nav-item">
                <a class="nav-link" href="generateReport.html">Generate Report</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="generateReport.html">Saved Reports</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="data.html">View Data</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="recommendations.html">Recommendations</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" aria-current="page"  href="predictions.html">Predictions</a>
              </li>
        </ul>
    </nav>

    <div id="loading-screen" style="display: none;">
      <dotlottie-player src="./assets/general/Animation - 1705413706609.json" class="loading-animation" background="transparent" speed="1" loop autoplay></dotlottie-player>
      <h2 style="margin-top: 500px; text-align: center;">Generating predictions... Please wait.</h2>
    </div>
  
    
    <div class="dashboard-content" id="prediction">
        <div class="carpet-container">
          <div class="allContent-container">
            
            <!-- Header Section -->
            <div class="form-container">
              <h1>Energy and Carbon Footprint Predictions</h1>
              <br>
              <p>Generates AI Predictions for Energy Usage and Carbon Footprint, from the current year until 2050. Compares Actual Predictions against the Ideal Predictions to hit the net zero by 2050 goal.</p>
              <br>
              <button id="generatePredictionsBtn" class="btn btn-primary">Generate Predictions</button>  
            </div>

             <!-- Prediction Components Wrapper -->
          <div id="predictionComponents" class="hidden">
            <!-- Prediction Cards -->
            <div class="prediction-cards-container">
              <h3>This is the predicted energy usage forecast if recommendations are implemented.</h3>
            <p>As seen from the graph, the recommendations and consistent energy usage reduction efforts will help reduce the energy usage over the years.</p>
              <div class="card">
                <div class="title">Predicted Energy Usage</div>
                <canvas id="predictedEnergyChart"></canvas>
              </div>
              <h3>This is the predicted carbon emissions forecast if recommendations are implemented.</h3>
            <p>As seen from the graph, the recommendations and consistent energy usage reduction efforts will help reduce the carbon emissions over the years.</p>
              <div class="card">
                <div class="title">Predicted Carbon Emissions</div>
                <canvas id="predictedCarbonChart"></canvas>
              </div>
            </div>
    
            <!-- Net Zero Estimation -->
            <div class="net-zero-container">
                <h3>Net Zero Estimation</h3>
                <p id="netZeroEstimation">Loading...</p>
            </div>
            <br>
            <br>
            <h2>Path to Net Zero</h2>
            <ul>
              <li>Increase the installation of renewable energy sources such as solar panels to reduce dependence on non-renewable energy.</li><br>
              <li>Enhance energy efficiency in buildings through retrofitting and smart technology implementation.</li><br>
              <li>Promote sustainable transportation options for students and staff, such as carpooling and cycling.</li><br>
              <li>Conduct regular sustainability audits to identify areas for improvement and track progress toward goals.</li><br>
              <li>Engage the school community in sustainability initiatives to foster a culture of environmental responsibility.</li><br>
            </ul>
    
            <!-- Additional Prediction Charts -->
            <div class="additional-charts-container">
              <div class="chart-card">
                <div class="title">Energy Usage vs. Carbon Emissions</div>
                <canvas id="energyCarbonComparisonChart"></canvas>
              </div>
              <p>This graph shows the relationship between energy usage and carbon emissions. As seen from the graph, the energy usage and carbon emissions are directly proportional to each other.</p>  
    
              <!-- New Trend Analysis Chart -->
              <div class="chart-card">
                <div class="title">Trend Analysis</div>
                <canvas id="trendAnalysisChart"></canvas>
              </div>
              <p>This graph shows the trend of energy usage and carbon emissions over the years. As seen from the graph, the energy usage and carbon emissions have been increasing over the years.</p>  
  

             </div>
    
            <!-- Loading and Error Indicators -->
            <div id="loadingIndicator" style="display: none; text-align: center;">
                <p>Loading predictions...</p>
            </div>
            
            <div id="errorMessage" style="display: none; color: red; text-align: center;">
                <p>Error fetching predictions.</p>
            </div>

            <div style="text-align: center; margin-top: 20px;">
              <button id="downloadPdfBtn" class="hidden btn btn-success">Download Predictions as PDF</button>
            </div>
    
          </div>
        </div> 
      </div>
      <div class="chatbot-placeholder"></div>

    <!-- Include Bootstrap JS and dependencies -->
    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <!-- Include DOMPurify for sanitizing HTML -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.3.4/dist/purify.min.js"></script>
      <!-- Include html2pdf.js -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js" integrity="sha512-YcsIPGdhPK4P/uRW6/sruonlYj+Q7UHWeKfTAkBW+g83NKM+jMJFJ4iAPfSnVp7BKD4dKMHmVSvICUbE/V1sSw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Custom Script -->
    <script src="./scripts/common.js"></script>
    <script src="./scripts/predictions.js"></script>
</body>
</html>
